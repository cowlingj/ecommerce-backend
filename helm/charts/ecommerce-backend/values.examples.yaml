all: &all
  env: development
  enabled: true
  peerDependenciesHandled: true

elasticsearch:
  enabled: false
  peerDependenciesHandled: true

postgres:
  enabled: false

mongodb-config:
  name: &mongodb-config-name mongodb-config

mongodb:
  image:
    tag: 4.2.0
  service:
    name: &mongodb-host mongodb
    port: &mongodb-port 8080
  existingSecret: *mongodb-config-name
  fullnameOverride: mongodb
  persistence:
    size: 1Gi
  podLabels:
    group: data

auth:
  enabled: false
  peerDependenciesHandled: true
  fusionauth:
    app:
      version: latest
    search:
      servers: http://elasticsearch-0.elasticsearch.svc.cluster.local:9200
  init:
    image: gcr.io/gke-test-253221/init.auth.admin
    version: 0.0.1

keystone-cms:
  env: development
  basePath: "/cms"
  service:
    fullnameOverride: keystone-cms
  secrets:
    mongodbAdmin:
      fullnameOverride: *mongodb-config-name
    users:
      data:
        users: []
    strings:
      data:
        strings: []
  mongodb:
    host: *mongodb-host
    port: *mongodb-port
    cms:
      username: cms
      database: cms
    admin:
      username: root
      database: admin

prismic-events:
  env: development
  enabled: false

keystone-events:
  env: development
  keystone:
    uri: http://keystone-cms/cms/graphql
  service:
    fullnameOverride: keystone-events

izettle-products:
  env: development
  enabled: false

json-products:
  env: development
  enabled: false

keystone-products:
  env: development
  keystone:
    uri: http://keystone-cms/cms/graphql
  service:
    fullnameOverride: keystone-products

istio-ingress:
  exabled: false

nginx-ingress:
  enabled: false
  domainName: null
  useHttps: false
  paths:
    - path: /cms
      service:
        name: keystone-cms
        port: 80
    - path: /products
      service:
        name: keystone-products
        port: 80
    - path: /events
      service:
        name: keystone-events
        port: 80
    - path: /simple
      service:
        name: simple-example
        port: 80
    - path: /
      service:
        name: endpoints-example
        port: 80

simple-example:
  service:
    fullnameOverride: simple-example
  basePath: "/simple"

endpoints-example:
  service:
    fullnameOverride: endpoints-example
  basePath: "/"
  endpoints:
    endpoints: []

tags:
  keystone: true
